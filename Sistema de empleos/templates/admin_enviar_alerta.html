{% extends "base.html" %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div class="card">
        <h2 style="text-align: center; margin-bottom: 2rem;">Enviar Alerta</h2>
        
        <form method="POST">
            <div class="form-group">
                <label for="titulo">Título de la Alerta:</label>
                <input type="text" id="titulo" name="titulo" placeholder="Ej: Mantenimiento del sistema" required>
            </div>
            
            <div class="form-group">
                <label for="mensaje">Mensaje:</label>
                <textarea id="mensaje" name="mensaje" rows="5" placeholder="Escribe el mensaje de la alerta..." required></textarea>
            </div>
            
            <!-- Sección de configuración de alerta - MEJORADA -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label for="tipo">Tipo de Alerta:</label>
                    <select id="tipo" name="tipo" required>
                        <option value="info">Informativa</option>
                        <option value="advertencia">Advertencia</option>
                        <option value="urgente">Urgente</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="prioridad">Prioridad:</label>
                    <select id="prioridad" name="prioridad" required>
                        <option value="baja">Baja</option>
                        <option value="media">Media</option>
                        <option value="alta">Alta</option>
                        <option value="urgente">Urgente</option>
                    </select>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label for="destinatario">Destinatario:</label>
                    <select id="destinatario" name="destinatario" required>
                        <option value="todos">Todos los usuarios</option>
                        <option value="usuarios">Solo estudiantes</option>
                        <option value="empleadores">Solo empleadores</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fecha_expiracion">Fecha de Expiración (opcional):</label>
                    <input type="date" id="fecha_expiracion" name="fecha_expiracion" min="{{ fecha_actual }}">
                </div>
            </div>
            
            <button type="submit" class="btn" style="width: 100%;">Enviar Alerta</button>
        </form>
        
        <div style="margin-top: 1rem; text-align: center;">
            <a href="{{ url_for('dashboard_admin') }}" class="btn btn-secondary">Cancelar</a>
        </div>
    </div>
</div>
{% endblock %}